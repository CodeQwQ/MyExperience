### 数据库版本问题（2025.3.3）

#### 数据库文件转换问题

​	MySQL8.0和5.7在字符集和排序规则上不同，如果需要版本转换可搜转换规则

#### sql在不同版本的MySQL下执行的区别

​	首先，子查询有很多种类，标量、相关、独立子查询，他们的查询顺序是：**独立的子查询先执行，其他都是主查一条，子查一条**。判断独不独立就看里面有没有主查询的字段（这个不严谨，没办法概括，因为不同版本不同行为）。

​	在8.0的版本中，对于以下子查询中，from中的子查询能识别主查询的字段(e.equipment_code)。

```sql
SELECT * 
FROM sys_equipment e
WHERE 
	EXISTS(
    	SELECT 1
        FROM (
        	SELECT * 
            FROM sys_equipmentStock s
            WHERE s.equipment_code = e.equipment_code
        )AS j
        WHERE J.name LIKE "SDHGUSDG"
    )
```

​	但是在5.7版本，没办法识别，只能用join+where替代

```sql
SELECT * 
FROM sys_equipment e
WHERE 
	EXISTS(
    	SELECT 1
        FROM (
        	SELECT s.* 
            FROM sys_equipmentStock s
            LEFT JOIN sys_equipment e2 ON s.equipment_code = e2.equipment_code
        )AS j
        WHERE j.name LIKE "SDHGUSDG" AND j.equipment_code = e.equipment_code
    )
```



#### 